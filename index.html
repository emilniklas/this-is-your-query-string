<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv='x-ua-compatible' content='ie=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bulma/0.3.1/css/bulma.min.css'>
  </head>
  <body style='margin: 2em auto; max-width: 50em'>
    <h1 class='title is-3'>This is your query string</h1>
    <table id='table' class='table'></table>
    <script>
      location.search
        .slice(1)
        .split('&')
        .filter(isTruthy)
        .map(function (segment) {
          var pair = segment.split('=')
          if (pair.length === 1) pair.push(true)
          return pair
        })
        .map(function (pair) {
          return pair.map(decodeURIComponent)
        })
        .forEach(function (pair) {
          var key = pair[0], value = pair[1]

          var tr = document.createElement('tr')
          var th = document.createElement('th')
          var td = document.createElement('td')

          th.textContent = key
          td.textContent = value

          tr.appendChild(th)
          tr.appendChild(td)
          table.appendChild(tr)
        })

      function isTruthy (s) {
        return !!s
      }
    </script>
  </body>
</html>
